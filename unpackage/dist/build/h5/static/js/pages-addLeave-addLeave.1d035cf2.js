(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-addLeave-addLeave"],{"01ed":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-label",[e._v("附件"),a("v-uni-text",{staticClass:"subGray"},[e._v("(可以选择一张图片作为附件)")])],1),a("v-uni-input",{attrs:{placeholder:"点击设置附件图片",value:e.imgFile},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickFile.apply(void 0,arguments)}}}),a("v-uni-label",[e._v("你的名字"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-uni-label",[e._v("请假类型"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"事假/病假/其他/疫情期间离校请假/外出申请"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),a("v-uni-label",[e._v("开始日期/时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2020-"+e.startDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindStartDate.apply(void 0,arguments)}}},[""==e.startDate?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("开始日期（年无效）")]):e._e(),""!=e.startDate?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.startDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.startTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindStartTime.apply(void 0,arguments)}}},[""==e.startTime?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("开始时间")]):e._e(),""!=e.startTime?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.startTime))]):e._e()],1)],1),a("v-uni-label",[e._v("结束日期/时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2020-"+e.endDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindEndDate.apply(void 0,arguments)}}},[""==e.endDate?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("结束日期（年无效）")]):e._e(),""!=e.endDate?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.endDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.endTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindEndTime.apply(void 0,arguments)}}},[""==e.endTime?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("结束时间")]):e._e(),""!=e.endTime?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.endTime))]):e._e()],1)],1),a("v-uni-label",[e._v("总时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"共1天3小时"},model:{value:e.countDate,callback:function(t){e.countDate=t},expression:"countDate"}}),a("v-uni-label",[e._v("紧急联系人"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"13555555555"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("v-uni-label",[e._v("请假原因"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"(不少于10字)"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}}),a("v-uni-label",[e._v("抄送人"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"无"},model:{value:e.cc,callback:function(t){e.cc=t},expression:"cc"}}),a("v-uni-label",[e._v("一级审批人"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"一级审批人姓名"},model:{value:e.oneCheck,callback:function(t){e.oneCheck=t},expression:"oneCheck"}}),a("v-uni-label",[e._v("一级审批人身份"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"辅导员"},model:{value:e.oneCheckStatus,callback:function(t){e.oneCheckStatus=t},expression:"oneCheckStatus"}}),a("v-uni-label",[e._v("一级审批意见"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"无"},model:{value:e.oneCheckIdea,callback:function(t){e.oneCheckIdea=t},expression:"oneCheckIdea"}}),a("v-uni-label",[e._v("一级审批通过日期/时间"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2020-"+e.oneCheckDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindOneCheckDate.apply(void 0,arguments)}}},[""==e.oneCheckDate?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("审批日期（年无效）")]):e._e(),""!=e.oneCheckDate?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.oneCheckDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.oneCheckTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindOneCheckTime.apply(void 0,arguments)}}},[""==e.oneCheckTime?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("审批时间")]):e._e(),""!=e.oneCheckTime?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.oneCheckTime))]):e._e()],1)],1),a("v-uni-label",[e._v("二级审批人"),a("v-uni-text",{staticClass:"subGray"},[e._v("(如填此项，二级所有信息必填)")])],1),a("v-uni-input",{attrs:{placeholder:"二级审批人姓名"},model:{value:e.twoCheck,callback:function(t){e.twoCheck=t},expression:"twoCheck"}}),a("v-uni-label",[e._v("二级审批人身份")]),a("v-uni-input",{attrs:{placeholder:"院级管理员"},model:{value:e.twoCheckStatus,callback:function(t){e.twoCheckStatus=t},expression:"twoCheckStatus"}}),a("v-uni-label",[e._v("二级审批意见")]),a("v-uni-input",{attrs:{placeholder:"无"},model:{value:e.twoCheckIdea,callback:function(t){e.twoCheckIdea=t},expression:"twoCheckIdea"}}),a("v-uni-label",[e._v("二级审批通过日期/时间")]),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2020-"+e.twoCheckDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTwoCheckDate.apply(void 0,arguments)}}},[""==e.twoCheckDate?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("审批日期（年无效）")]):e._e(),""!=e.twoCheckDate?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.twoCheckDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.twoCheckTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTwoCheckTime.apply(void 0,arguments)}}},[""==e.twoCheckTime?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("审批时间")]):e._e(),""!=e.twoCheckTime?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.twoCheckTime))]):e._e()],1)],1),a("v-uni-label",[e._v("三级审批人"),a("v-uni-text",{staticClass:"subGray"},[e._v("(如填此项，三级所有信息必填)")])],1),a("v-uni-input",{attrs:{placeholder:"三级审批人姓名"},model:{value:e.threeCheck,callback:function(t){e.threeCheck=t},expression:"threeCheck"}}),a("v-uni-label",[e._v("三级审批人身份")]),a("v-uni-input",{attrs:{placeholder:"校级管理员"},model:{value:e.threeCheckStatus,callback:function(t){e.threeCheckStatus=t},expression:"threeCheckStatus"}}),a("v-uni-label",[e._v("三级审批意见")]),a("v-uni-input",{attrs:{placeholder:"无"},model:{value:e.threeCheckIdea,callback:function(t){e.threeCheckIdea=t},expression:"threeCheckIdea"}}),a("v-uni-label",[e._v("三级审批通过日期/时间")]),a("v-uni-view",{staticClass:"pickerView"},[a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",left:"0px"},attrs:{mode:"date",value:"2020-"+e.threeCheckDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindThreeCheckDate.apply(void 0,arguments)}}},[""==e.threeCheckDate?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("审批日期（年无效）")]):e._e(),""!=e.threeCheckDate?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.threeCheckDate))]):e._e()],1),a("v-uni-picker",{staticStyle:{width:"42%",position:"absolute",right:"0px"},attrs:{mode:"time",value:e.threeCheckTime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindThreeCheckTime.apply(void 0,arguments)}}},[""==e.threeCheckTime?a("v-uni-view",{staticStyle:{"line-height":"45px",color:"gray"}},[e._v("审批时间")]):e._e(),""!=e.threeCheckTime?a("v-uni-view",{staticStyle:{"line-height":"45px"}},[e._v(e._s(e.threeCheckTime))]):e._e()],1)],1),a("v-uni-label",[e._v("定位位置"),a("v-uni-text",{staticClass:"subRed"},[e._v("*必填")])],1),a("v-uni-input",{attrs:{placeholder:"中国北京朝阳区/查看位置"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("v-uni-label",{staticStyle:{display:"block","font-weight":"bold"}},[e._v("其他设置")]),a("v-uni-image",{staticStyle:{height:"81px",width:"257px",margin:"10px",border:"1px solid #ccc"},attrs:{src:i("6963")}}),a("v-uni-view",{staticClass:"sub",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sub.apply(void 0,arguments)}}},[e._v("提交")])],1)},s=[]},"0aba":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,"uni-input[data-v-50c01cd6],\nuni-picker[data-v-50c01cd6]{border:%?1?% solid #ccc;margin:%?10?%;margin-top:%?2?%;margin-bottom:%?10?%;padding-left:%?5?%;padding-right:%?5?%;height:%?45?%;border-radius:%?5?%;-webkit-transition:all .3s ease;transition:all .3s ease}uni-input[data-v-50c01cd6]:hover{border:%?1?% solid #007aff;box-shadow:%?0?% %?0?% %?5?% %?1?% #eee}uni-picker[data-v-50c01cd6]:hover{border:%?1?% solid #007aff;box-shadow:%?0?% %?0?% %?5?% %?1?% #eee}uni-label[data-v-50c01cd6]{margin-left:%?10?%;color:#2c906f}.sub[data-v-50c01cd6]{background-color:#38b48b;margin:%?10?%;margin-top:%?30?%;color:#fff;text-align:center;font-size:%?18?%;height:%?45?%;line-height:%?45?%;border-radius:%?5?%}.pickerView[data-v-50c01cd6]{width:100%;position:relative;height:%?45?%;margin-bottom:%?20?%;text-align:center}.pickerView uni-picker[data-v-50c01cd6]{z-index:9999;background-color:#fff}.border-center[data-v-50c01cd6]{border-top:%?1?% solid grey;width:50%;margin:0 auto;position:relative;top:%?25?%}.subRed[data-v-50c01cd6]{font-size:%?20?%;color:red}.subGray[data-v-50c01cd6]{font-size:%?20?%;color:#ffa400}",""]),e.exports=t},"43fb":function(e,t,i){var a=i("0aba");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("d9c1d128",a,!0,{sourceMap:!1,shadowMode:!1})},"5e79":function(e,t,i){"use strict";var a=i("43fb"),n=i.n(a);n.a},6963:function(e,t,i){e.exports=i.p+"static/img/other_tips.9c6048df.png"},"828e":function(e,t,i){"use strict";i.r(t);var a=i("01ed"),n=i("f978");for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("5e79");var o,c=i("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"50c01cd6",null,!1,a["a"],o);t["default"]=l.exports},"86e1":function(e,t,i){"use strict";i("a9e3"),i("d3b7"),i("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{leaves:null,name:"",startDate:"",startTime:"",endDate:"",endTime:"",countDate:"",reason:"",phone:"",address:"",cc:"",oneCheck:"",oneCheckDate:"",oneCheckTime:"",oneCheckStatus:"",oneCheckIdea:"无",twoCheck:"",twoCheckDate:"",twoCheckTime:"",twoCheckStatus:"",twoCheckIdea:"",threeCheck:"",threeCheckDate:"",threeCheckTime:"",threeCheckStatus:"",threeCheckIdea:"",state:"正在休假中",type:"",colorIndex:0,imgFile:""}},onShow:function(){if(this.leaves=uni.getStorageSync("todaySchoolLeaves"),""!=this.leaves&&null!=this.leaves||(this.leaves=[]),this.leaves.length>0){var e=this.leaves[this.leaves.length-1];this.name=e.name,this.type=e.type,this.reason=e.reason,this.phone=e.phone,this.address=e.address,this.cc=e.cc,this.oneCheck=e.oneCheck,this.twoCheck=e.twoCheck,this.threeCheck=e.threeCheck,this.oneCheckStatus=e.oneCheckStatus,this.twoCheckStatus=e.twoCheckStatus,this.threeCheckStatus=e.threeCheckStatus,this.oneCheckIdea=e.oneCheckIdea,this.twoCheckIdea=e.twoCheckIdea,this.threeCheckIdea=e.threeCheckIdea}},methods:{sub:function(){var e=this;if(""!=this.name&&""!=this.type&&""!=this.startDate&&""!=this.startTime&&""!=this.endDate&&""!=this.endTime&&""!=this.reason&&""!=this.address&&""!=this.cc&&""!=this.phone&&""!=this.oneCheckTime&&""!=this.oneCheckStatus&&""!=this.oneCheck&&""!=this.countDate&&""!=this.oneCheckDate&&""!=this.oneCheckIdea)if(this.startDate!=this.endDate||this.startTime!=this.endTime)if(this.reason.length<10)this.toast("请假原因不能少于10字","none");else if(""==this.twoCheck||""!=this.twoCheckDate&&""!=this.twoCheckTime&&""!=this.twoCheckStatus&&""!=this.twoCheckIdea)if(""==this.threeCheck||""!=this.threeCheckDate&&""!=this.threeCheckTime&&""!=this.threeCheckStatus&&""!=this.threeCheckIdea)if(""==this.threeCheck||""!=this.twoCheck){var t={},i=new Date;t["name"]=this.name,t["type"]=this.type,t["startDate"]=this.startDate+" "+this.startTime,t["endDate"]=this.endDate+" "+this.endTime,t["countDate"]=this.countDate,t["reason"]=this.reason,t["phone"]=this.phone,t["address"]=this.address,t["cc"]=this.cc,t["oneCheck"]=this.oneCheck,t["oneCheckDate"]=this.oneCheckDate+" "+this.oneCheckTime,t["oneCheckStatus"]=this.oneCheckStatus,t["oneCheckIdea"]=this.oneCheckIdea,t["twoCheck"]=this.twoCheck,t["twoCheckDate"]=this.twoCheckDate+" "+this.twoCheckTime,t["twoCheckStatus"]=this.twoCheckStatus,t["twoCheckIdea"]=this.twoCheckIdea,t["threeCheck"]=this.threeCheck,t["threeCheckDate"]=this.threeCheckDate+" "+this.threeCheckTime,t["threeCheckStatus"]=this.threeCheckStatus,t["threeCheckIdea"]=this.threeCheckIdea,t["state"]=this.state,t["applyDate"]=(Number(i.getMonth()+1).toString()<=1?"0"+Number(i.getMonth()+1):Number(i.getMonth()+1))+"-"+(i.getDate().toString().length<=1?"0"+i.getDate():i.getDate())+" "+(i.getHours().toString().length<=1?"0"+i.getHours():i.getHours())+":"+(i.getMinutes().toString().length<=1?"0"+i.getMinutes():i.getMinutes()),t["imgFile"]=this.imgFile,this.leaves.push(t),console.log(this.leaves),uni.setStorage({key:"todaySchoolLeaves",data:e.leaves,success:function(){e.toast("提交成功","success"),setTimeout((function(){uni.navigateBack({delta:1})}),1600)},fail:function(){e.toast("提交失败，请重试","none")}})}else this.toast("如有三级审批，二级审批必填","none");else this.toast("请将三级审批人审批信息填写完整","none");else this.toast("请将二级审批人审批信息填写完整","none");else this.toast("开始日期不能等于结束日期","none");else this.toast("请将必填信息填写完整","none")},bindStartDate:function(e){console.log(e.detail.value.substring(5,e.detail.value.length)),this.startDate=e.detail.value.substring(5,e.detail.value.length)},bindStartTime:function(e){console.log(e.detail.value),this.startTime=e.detail.value},bindEndDate:function(e){console.log(e.detail.value.substring(5,e.detail.value.length)),this.endDate=e.detail.value.substring(5,e.detail.value.length)},bindEndTime:function(e){console.log(e.detail),this.endTime=e.detail.value},bindOneCheckDate:function(e){console.log(e.detail.value.substring(5,e.detail.value.length)),this.oneCheckDate=e.detail.value.substring(5,e.detail.value.length)},bindOneCheckTime:function(e){console.log(e.detail),this.oneCheckTime=e.detail.value},bindTwoCheckDate:function(e){console.log(e.detail.value.substring(5,e.detail.value.length)),this.twoCheckDate=e.detail.value.substring(5,e.detail.value.length)},bindTwoCheckTime:function(e){console.log(e.detail),this.twoCheckTime=e.detail.value},bindThreeCheckDate:function(e){console.log(e.detail.value.substring(5,e.detail.value.length)),this.threeCheckDate=e.detail.value.substring(5,e.detail.value.length)},bindThreeCheckTime:function(e){console.log(e.detail),this.threeCheckTime=e.detail.value},bindColor:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.colorIndex=e.target.value,this.changColorTitleStyle()},changColorTitleStyle:function(){return 0==this.colorIndex?"line-height: 45px;color:#F79A0D;":1==this.colorIndex?"line-height: 45px;color:black;":2==this.colorIndex?"line-height: 45px;color:red;":void 0},clickFile:function(){var e=this;uni.chooseImage({count:1,sourceType:["album"],success:function(t){var i=t.tempFilePaths[0];console.log(t.tempFilePaths[0]),e.toast("附件设置成功","sucess"),uni.saveFile({tempFilePath:i,success:function(t){console.log(t.savedFilePath),e.imgFile=t.savedFilePath}})}})},toast:function(e,t){uni.showToast({title:e,icon:t,duration:2e3,mask:!0})}}};t.default=a},f978:function(e,t,i){"use strict";i.r(t);var a=i("86e1"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a}}]);